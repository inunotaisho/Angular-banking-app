<section class="container-text">
  <section class="flex flex-col gap-10">
    <div *ngIf="(currentUser$|async) as currentUser"
         class='  animate-slideOut'

    >
      <section class="flex  justify-between">
        <div class="dark:text-secondary text-primary">

          <p class='text-base flex gap-3 dark:text-secondary text-primary   md:text-xl'>
            Welcome Back,
            <span class=''>{{currentUser.name}}
              <img *ngIf="currentUser.role==='user'"
                   class="inline-flex items-center justify-center"
                   width="25" height="25" ngSrc="assets/images/userbadge.svg" alt="badge">
              <img *ngIf="currentUser.role==='admin'"
                   class="inline-flex items-center justify-center"
                   width="25" height="25" ngSrc="assets/images/adminbadge.svg" alt="badge"></span>
          </p>


          <p class='text-sm mt-1 flex gap-4 dark:text-secondary text-primary  md:text-md'>
            Account Number : {{currentUser.accountNumber}}
            <app-clipboard [style]="'text-green-400'" [textToCopy]=currentUser.accountNumber></app-clipboard>
          </p>

        </div>


      </section>

    </div>

    <section class=" grid lg:grid-cols-2 xl:grid-cols-3 animate-slideOut  sm:grid-cols-2 grid-cols-1  gap-5">
      <div class="card bg-primary dark:glass dark:text-secondary  flex-1 flex gap-3">
        <section class="flex  flex-col mt-4 gap-8 ">
          <section
            class="  flex flex-col"
          >
            <p class="italic text-xs "> Today</p>


            <p class="text"> {{summary.profit| currency:'USD'}}</p>
          </section>
          <button class="p-2 w-full rounded-lg dark:glass dark:text-secondary text-primary text-xs  bg-gray-100">
            View details
          </button>
        </section>

        <section
          class="  flex-1 rounded-lg bg-white dark:glass skin text-primary  w-48 justify-center   flex gap-4"
        >
          <div class="flex flex-col text-xs text-center justify-around">
            <!--      <p>{{statusOne}}</p>-->
            <p>Credit</p>
            <div class="flex justify-center"><img height="20" width="20" ngSrc="assets/images/credit.svg"></div>
            <p class="font-bold">{{summary.totalCredit | currency:'USD'}}</p>
          </div>

          <div class="flex text-xs flex-col justify-around">
            <!--      <p>{{statusTwo}}</p>-->
            <p>Debit</p>
            <div class="flex justify-center"><img height="20" width="20" ngSrc="assets/images/debit.svg"></div>


            <p class="font-bold">{{summary.totalDebit|currency:'USD'}}</p>
          </div>
        </section>
      </div>
      <div class="card glass flex-1 flex gap-3">
        <section class="flex  flex-col mt-4 gap-8 ">
          <section
            class="text-black  flex flex-col"
          >
            <!--    <p class= "italic text-xs "}> {{title}}</p>   -->
            <p class="italic text-xs text-primary dark:text-secondary "> July</p>

            <p class="text text-primary dark:text-secondary"> {{summary.profit| currency:'USD'}}</p>
          </section>
          <button class="p-2 w-full rounded-lg dark:glass dark:text-secondary text-primary  text-xs bg-gray-100">

            View details
          </button>
        </section>

        <section
          class="  flex-1 rounded-lg bg-blue-100 w-48 justify-center text-black flex gap-4"
        >
          <div class="flex flex-col text-xs text-center justify-around">
            <!--      <p>{{statusOne}}</p>-->
            <p class="">Credit</p>
            <div class="flex justify-center"><img height="20" width="20" ngSrc="assets/images/credit.svg"></div>

            <p class="font-bold ">{{summary.totalCredit|currency:'USD'}}</p>
          </div>

          <div class="flex text-xs flex-col justify-around">
            <!--      <p>{{statusTwo}}</p>-->
            <p>Debit</p>
            <div class="flex justify-center"><img height="20" width="20" ngSrc="assets/images/debit.svg"></div>

            <p class="font-bold ">{{summary.totalDebit|currency:'USD'}}</p>
          </div>
        </section>
      </div>
      <div class="card glass  flex-1 flex gap-3">
        <section class="flex  flex-col mt-4 gap-8 ">
          <section
            class="  flex flex-col"
          >
            <p class="italic text-xs text-primary dark:text-secondary "> 2023</p>
            <p class="text-primary dark:text-secondary"> {{summary.profit| currency:'USD'}}</p>
          </section>
          <button class="p-2 w-full dark:glass rounded-lg text-xs  dark:text-secondary text-primary bg-gray-100">

            View details
          </button>
        </section>

        <section
          class="  flex-1 rounded-lg bg-pending w-48 justify-center text-black flex gap-4"
        >
          <div class="flex flex-col text-xs text-center justify-around">
            <!--      <p>{{statusOne}}</p>-->
            <p>Credit</p>
            <div class="flex justify-center"><img height="20" width="20" ngSrc="assets/images/credit.svg"></div>

            <p class="font-bold text">{{summary.totalCredit|currency:'USD'}}</p>
          </div>

          <div class="flex text-xs flex-col justify-around">
            <!--      <p>{{statusTwo}}</p>-->
            <p>Debit</p>
            <div class="flex justify-center"><img height="20" width="20" ngSrc="assets/images/debit.svg"></div>

            <p class="font-bold text">{{summary.totalDebit|currency:'USD'}}</p>
          </div>
        </section>
      </div>

    </section>


    <section class="flex  md:flex-row  flex-col gap-5">

      <section class="w-full  md:w-4/6 py-5 px-3 rounded-2xl  md:h-auto bg-white skin dark:glass ">
        <section class="flex border-b border-secondary dark:text-secondary text-primary justify-between p-2 items-center">
          <p>Transactions Statistics</p>

          <div>
            <select class="bg-gray-100 dark:glass border-none text-xs px-5 rounded py-2">
              <option selected>This Year</option>
            </select>
          </div>
        </section>


        <ng-container *ngIf="(series|async) as series">
          <app-charts [series]=series [type]="'area'" [xTitle]="'Months'"
                      [yTitle]="'Amount'"></app-charts>
        </ng-container>


        <p *ngIf="(balance|async) as balance" class="font-bold text-xs text-center">Total:
          <span
          >{{balance |currency:'USD'}}</span>
        </p>

      </section>

      <section class="bg-white dark:glass w-full  dark:text-secondary text-primary md:w-2/6 flex flex-col gap-8  rounded-2xl p-4">
        <div class="flex justify-between">
          <p>Summary</p>
          <section class="flex flex-col gap-5 justify-end">
            <select class="bg-gray-100 dark:glass border-none rounded text-xs py-2 px-5">
              <option>Transactions</option>
            </select>

            <select (change)="handleChange($event)"
                    class="bg-yellow-50 dark:glass text-xs border-none  py-2 px-5 ml-4 rounded p-2">
              <option selected value="{{month}}"> This Month</option>
              <option value="{{year}}">This Year</option>
            </select>
          </section>
        </div>

        <div class="w-[150px] h-[150px] mx-auto">

          <!--      <CircularProgressbarWithChildren-->
          <!--        value={66}-->
          <!--        strokeWidth={10}-->
          <!--        styles={buildStyles({-->
          <!--      // Rotation of path and trail, in number of turns (0-1)-->
          <!--      rotation: 1,-->

          <!--      // Whether to use rounded or flat corners on the ends - can use 'butt' or 'round'-->
          <!--      strokeLinecap: "round",-->

          <!--      // Text size-->
          <!--      // textSize: "14px",-->

          <!--      // How long animation takes to go from one percentage to another, in seconds-->
          <!--      pathTransitionDuration: 0.5,-->

          <!--      // Can specify path transition in more detail, or remove it entirely-->
          <!--      // pathTransition: 'none',-->

          <!--      // Colors-->

          <!--      pathColor: "rgb(31, 41, 55)",-->
          <!--      textColor: "black",-->
          <!--      trailColor: "gainsboro",-->
          <!--      backgroundColor: "white",-->
          <!--      })}-->
          <!--      >-->


          <!--      <div style={{ fontSize: 18, fontWeight: 300 }}>Total</div>-->
          <!--      <div style={{ fontSize: 18, fontWeight: 800, marginTop: 3 }}>-->
          <!--        8000-->
          <!--      </div>-->
          <!--      </CircularProgressbarWithChildren>-->
        </div>
        <section class="bg-gray-100 dark:glass rounded-lg p-6 space-y-12">
          <div class="text-xs">
            <p>Credit Transactions</p>
            <p class="text-green-500 font-bold">{{summary.totalCredit}}</p>
          </div>

          <div class="text-xs">
            <p>Debit Transactions</p>

            <p class="text-red-600 font-bold">{{summary.totalDebit}}</p>
          </div>
        </section>
      </section>
    </section>
  </section>
</section>

